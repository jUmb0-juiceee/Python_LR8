<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∞–ª—é—Ç—ã - Currency Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }

        h1, h2 {
            color: #333;
        }

        .navigation {
            margin: 30px 0;
            padding: 10px;
            background: #f4f4f4;
            border-radius: 5px;
        }

        .navigation a {
            margin-right: 15px;
            text-decoration: none;
            color: #0066cc;
        }

        .navigation a:hover {
            text-decoration: underline;
        }

        .currencies-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .currencies-table th, .currencies-table td {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: left;
        }

        .currencies-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
            font-size: 16px;
        }

        .currencies-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .currencies-table tr:hover {
            background-color: #f0f0f0;
        }

        .currency-code {
            font-family: monospace;
            font-weight: bold;
            color: #0066cc;
            font-size: 18px;
        }

        .currency-value {
            font-weight: bold;
            color: #2e7d32;
            font-size: 18px;
        }

        .btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 10px 0;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .update-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .back-link {
            display: inline-block;
            margin: 30px 0;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }

        .back-link:hover {
            background: #5a6fd8;
        }

        .nominal-info {
            font-size: 0.9em;
            color: #666;
        }

        .value-per-unit {
            font-size: 0.9em;
            color: #888;
        }

        .currency-id {
            font-weight: bold;
            color: #333;
        }

        .update-time {
            font-weight: bold;
            color: #667eea;
        }
    </style>
</head>
<body>
    <div class="navigation">
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="/users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
        <a href="/currencies" style="font-weight: bold; background: rgba(102, 126, 234, 0.3);">–í–∞–ª—é—Ç—ã</a>
        <a href="/author">–û–± –∞–≤—Ç–æ—Ä–µ</a>
    </div>

    <h1>–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</h1>

    <div class="update-section">
        <p><strong>–ö—É—Ä—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:</strong> <span class="update-time">{{ update_time }}</span></p>
        <form action="/currencies" method="get">
            <button type="submit" class="btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –∫—É—Ä—Å—ã</button>
        </form>
        <p><em>–ö—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å API –¶–µ–Ω—Ç—Ä–æ–±–∞–Ω–∫–∞ –†–æ—Å—Å–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</em></p>
    </div>

    {% if currencies %}
        <table class="currencies-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>–ö–æ–¥</th>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–ö—É—Ä—Å, ‚ÇΩ</th>
                    <th>–ù–æ–º–∏–Ω–∞–ª</th>
                    <th>–ó–∞ 1 –µ–¥–∏–Ω–∏—Ü—É, ‚ÇΩ</th>
                    <th>–¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥</th>
                </tr>
            </thead>
            <tbody>
                {% for currency in currencies %}
                <tr>
                    <td class="currency-id">{{ currency.id }}</td>
                    <td>
                        <span class="currency-code">{{ currency.char_code }}</span>
                    </td>
                    <td>{{ currency.name }}</td>
                    <td>
                        <span class="currency-value">{{ "%.4f"|format(currency.value) }}</span>
                    </td>
                    <td>
                        {{ currency.nominal }}
                        <div class="nominal-info">–µ–¥–∏–Ω–∏—Ü</div>
                    </td>
                    <td>
                        {{ "%.4f"|format(currency.value_per_unit) }}
                        <div class="value-per-unit">–∑–∞ 1 {{ currency.char_code }}</div>
                    </td>
                    <td>{{ currency.num_code }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <p><strong>–í—Å–µ–≥–æ –≤–∞–ª—é—Ç:</strong> {{ currencies|length }}</p>
    {% else %}
        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; border-left: 5px solid #ffc107;">
            <h3>–ö—É—Ä—Å—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã</h3>
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ.</p>
            <a href="/currencies" class="btn">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É</a>
        </div>
    {% endif %}

    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
        <h3>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</h3>
        <p>–ö—É—Ä—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å API –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –±–∞–Ω–∫–∞ –†–æ—Å—Å–∏–∏. –ù–æ–º–∏–Ω–∞–ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç,
           –∑–∞ –∫–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü –≤–∞–ª—é—Ç—ã —É–∫–∞–∑–∞–Ω –∫—É—Ä—Å.</p>
        <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> –µ—Å–ª–∏ –Ω–æ–º–∏–Ω–∞–ª = 100, –∞ –∫—É—Ä—Å = 60.50, –∑–Ω–∞—á–∏—Ç 100 –µ–¥–∏–Ω–∏—Ü –≤–∞–ª—é—Ç—ã —Å—Ç–æ—è—Ç 60.50 —Ä—É–±–ª–µ–π.</p>
    </div>

    <a href="/" class="back-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
</body>
</html>